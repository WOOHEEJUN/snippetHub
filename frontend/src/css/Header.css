/* ====================== Header ====================== */
.header {
  background-color: #0d0d0d;
  border-bottom: 1px solid #222222;
  padding: 1rem 0;
  box-shadow: 0 2px 5px rgba(0,0,0,.7);
  position: relative;
  z-index: 100;
}

/* 혹시 이전 스타일에서 헤더에 배경 워터마크를 깔아뒀다면 완전히 제거 */
.header::before,
.header::after,
.header .rep-badge-watermark{
  content: none !important;
  display: none !important;
  background: none !important;
}

.header-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.header-left { display: flex; align-items: center; gap: 1rem; }

/* RIGHT */
.header-right {
  display: flex;
  align-items: center;
  gap: 1rem;
  justify-content: flex-end;
  position: relative;
  z-index: 101;
}

.logo {
  font-family: 'Poppins', sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
  color: #d3d3d3;
  text-decoration: none;
}
.header-logo-img {
  height: 40px;
  width: auto;
  vertical-align: middle;
}

/* Nav */
.nav-menu-horizontal { display: flex; list-style: none; margin: 0; padding: 0; gap: 1rem; }
.nav-item { position: relative; }

.nav-link-main{
  color:#e0e0e0; font-size:.95rem; font-weight:500; cursor:pointer;
  padding:.4rem .8rem; border-radius:.5rem; transition:all .3s ease;
  white-space: nowrap;
}
.nav-link-main:hover{ background-color:#333; color:#fff; }

/* 드롭다운 */
.submenu{
  position:absolute; top:100%; left:0; margin-top:.5rem; min-width:180px;
  background:#1f1f1f; border:1px solid #333; border-radius:8px;
  list-style:none; padding:.5rem 0; box-shadow:0 8px 24px rgba(0,0,0,.35);
  z-index:1000; opacity:0; visibility:hidden; transform:translateY(10px);
  transition:all .3s ease;
}
.nav-item:hover .submenu{ opacity:1; visibility:visible; transform:translateY(0); }
.submenu a{
  display:block; padding:.6rem 1rem; color:#e0e0e0; text-decoration:none; font-size:.9rem;
  transition:background-color .2s ease;
}
.submenu a:hover{ background:#333; color:#fff; }

/* 버튼들 */
.auth-buttons{ display:flex; align-items:center; gap:.75rem; order:1; }

.btn{
  font-weight:500; padding:.45rem .9rem; font-size:.9rem; border-radius:.5rem;
  text-decoration:none; cursor:pointer; min-width:85px; min-height:40px; text-align:center;
  border:1px solid #e0e0e0; background:transparent; color:#e0e0e0; transition:all .25s ease;
}
.btn:hover{ background:rgba(255,255,255,.1); color:#fff; border-color:#fff; }

.btn-outline-primary{ background:#e0e0e0; color:#333; border-color:#e0e0e0; }
.btn-outline-primary:hover{ background:#d3d3d3; border-color:#d3d3d3; color:#333; box-shadow:0 0 0 .2rem rgba(0,0,0,.2); }
.btn-primary{ background:#e0e0e0; color:#333; border-color:#e0e0e0; }
.btn-primary:hover{ background:#d3d3d3; border-color:#d3d3d3; color:#333; box-shadow:0 0 0 .2rem rgba(0,0,0,.2); }

/* 햄버거 */
.hamburger-container{ display:block; position:relative; z-index:1002; order:2; }
.hamburger-btn{
  display:flex; flex-direction:column; justify-content:space-around;
  width:30px; height:30px; background:transparent; border:none; cursor:pointer; padding:0; z-index:1003;
}
.hamburger-btn span{ width:100%; height:3px; background:#e0e0e0; border-radius:2px; transition:all .3s ease; transform-origin:center; }
.hamburger-btn.active span:nth-child(1){ transform:rotate(45deg) translate(6px,6px); }
.hamburger-btn.active span:nth-child(2){ opacity:0; }
.hamburger-btn.active span:nth-child(3){ transform:rotate(-45deg) translate(6px,-6px); }

/* 드롭다운 패널 */
.hamburger-dropdown{
  position:absolute; top:calc(100% + 8px); right:0; background:#1f1f1f;
  border:1px solid #333; border-radius:8px; box-shadow:0 8px 24px rgba(0,0,0,.35);
  z-index:1100; padding:1.25rem; max-height:80vh; overflow-y:auto; width:260px; display:block;
}
.hamburger-menu-section h4{
  color:#fff; font-size:1.05rem; font-weight:600; margin:0 0 .75rem; padding-bottom:.5rem; border-bottom:2px solid #fff;
}
.hamburger-menu-section ul{ list-style:none; margin:0; padding:0; }
.hamburger-menu-section a{
  display:block; padding:.6rem .8rem; color:#e0e0e0; text-decoration:none; font-size:.95rem; border-radius:6px; transition:all .2s ease; margin-bottom:.25rem;
}
.hamburger-menu-section a:hover{ background:#333; color:#fff; transform:translateX(4px); }

/* 반응형 */
@media (max-width: 991px) {
  .main-nav { display: none; }
  .hamburger-container { display: block; }
  .header-right { gap: .5rem; justify-content: flex-end; }
  .hamburger-dropdown { width: calc(100vw - 20px); right: 0; }
}
@media (min-width: 992px) {
  .main-nav { display: flex; }
  .hamburger-container { display: none; }
  .header-container { padding: 0 2.5rem; }
  .logo { font-size: 2rem; }
  .nav-menu-horizontal { gap: 1.5rem; }
  .auth-buttons { gap: 1.5rem; }
}
@media (min-width: 1200px){
  .nav-menu-horizontal{ gap:2rem; }
  .auth-buttons{ gap:2rem; }
}

/* =================== 대표 뱃지 아이콘(닉네임 옆) =================== */
.user-info{
  display:inline-flex;
  align-items:center;
  gap:8px;
}

/* 등급 PNG (대표뱃지 없을 때) */
.level-badge-header{
  width:24px !important; height:24px !important;
  min-width:24px !important; min-height:24px !important;
  max-width:24px !important; max-height:24px !important;
  object-fit:contain !important; vertical-align:middle; margin-right:6px;
  flex:0 0 24px !important;
}
.header img.level-badge-header{ max-width:none !important; }

/* 대표뱃지 칩(크기 고정 + 휘장 링) */
.rep-badge-chip{
  --rep-size: 22px;
  --ring-width: 4px;
  --accent: #8ab0d1;

  position: relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width: var(--rep-size);
  height: var(--rep-size);
  border-radius: 50%;
  overflow: visible;
  margin-right: 6px;
  flex: 0 0 var(--rep-size);
  background:
    radial-gradient(120px 120px at 35% 30%, rgba(255,255,255,.06), transparent 60%) padding-box,
    linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.08)) padding-box;
  border: 2px solid #222;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.08),
    inset 0 -1px 0 rgba(0,0,0,.28),
    0 3px 10px rgba(0,0,0,.35);
}
.rep-badge-chip::before,
.rep-badge-chip::after{
  content:"";
  position:absolute;
  inset: -6px;
  border-radius:50%;
  pointer-events:none;
}
.rep-badge-chip::before{
  /* 도넛형 회전 링 */
  -webkit-mask:
    radial-gradient(circle,
      transparent calc(50% - var(--ring-width)),
      #000 calc(50% - var(--ring-width) + 1px),
      #000 calc(50% + var(--ring-width) - 1px),
      transparent calc(50% + var(--ring-width)));
          mask:
    radial-gradient(circle,
      transparent calc(50% - var(--ring-width)),
      #000 calc(50% - var(--ring-width) + 1px),
      #000 calc(50% + var(--ring-width) - 1px),
      transparent calc(50% + var(--ring-width)));
  background: conic-gradient(#6aa7d8, #86f7a5, #6aa7d8);
  animation: rep-spin 14s linear infinite;
  opacity:.9;
  filter: drop-shadow(0 1px 4px rgba(0,0,0,.45));
}
.rep-badge-chip::after{
  background: radial-gradient(60% 60% at 50% 50%, var(--accent) 0%, transparent 70%);
  filter: blur(4px); opacity:.45; animation: rep-pulse 3.2s ease-in-out infinite;
}

/* PNG 코어 크기 */
.rep-badge-chip img{
  position:absolute;
  left:50%; top:50%; transform:translate(-50%,-50%);
  width: 68%;
  height: 68%;
  object-fit: contain;
  pointer-events:none;
  user-select:none;
  z-index:2;
}

/* 희귀도별 포인트 컬러 */
.rarity-common{ --accent:#777; }
.rarity-uncommon{ --accent:#79a9c9; }
.rarity-rare{ --accent:#8ab0d1; }
.rarity-epic{ --accent:#9b87f5; }
.rarity-legendary{ --accent:#ffd24d; }

/* 아주 작은 화면 */
@media (max-width: 480px){
  .level-badge-header{ width:20px !important; height:20px !important; min-width:20px !important; min-height:20px !important; max-width:20px !important; max-height:20px !important; flex:0 0 20px !important; }
  .rep-badge-chip{ --rep-size: 20px; }
}

/* 애니메이션 */
@keyframes rep-spin{ to{ transform: rotate(360deg); } }
@keyframes rep-pulse{
  0%,100%{ transform: scale(1); opacity:.45; }
  50%{ transform: scale(1.06); opacity:.75; }
}
